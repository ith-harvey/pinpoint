<div class="container-fluid full-width">



  {{> nav }}


  <div class="container">
    {{#each blogs}}
      <h1>{{this.title}}</h1>
      <h4>{{this.rating}}</h4>
      <p>{{this.description}}</p>
      <div><a href='{{this.url}}'>{{this.url}}</a></div>

      <h4>Tags : </h4>
      {{#each this.tags}}
        <btn class="btn-primary btn-xs" data-tagid="{{this.id}}">{{this.name}}</btn>
      {{/each}}

      <div class="page-header">
        <h1><small class="pull-right"></small> Comments </h1>
      </div>
      {{#each this.comments}}
        {{> comments}}
      {{/each}}
      {{> addComment}}

      {{#if error}}
        <h3>{{error}}</h3>
      {{/if}}

    {{/each}}
  </div>

</div>


<script src="/socket.io/socket.io.js"></script>

<script>
  var socket = io.connect();
  socket.on('comment rating', function (responseData){
    console.log('responseData',responseData);

    $(`.blog-rating[data-id=${responseData.id}]`).children().text(`${responseData.rating}`)

  })

  socket.on('comment post', function (responseData){
    console.log("inside comment post");
    console.log('responseData',responseData);

    // $(`.blog-rating[data-id=${responseData.id}]`).children().text(`${responseData.rating}`)

  })


</script>
